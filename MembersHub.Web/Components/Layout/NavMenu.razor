@using MudBlazor
@using Microsoft.AspNetCore.Components.Authorization

<style>
    /* Mobile-friendly navigation styles */
    .cashier-quick-access {
        background: linear-gradient(135deg, var(--mud-palette-success), var(--mud-palette-success-lighten));
        border-radius: 8px;
        margin: 8px;
        padding: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .cashier-quick-access .mud-nav-link {
        border-radius: 6px;
        margin: 4px 0;
        background-color: rgba(255, 255, 255, 0.15);
        color: white !important;
        font-weight: 500;
    }

    .cashier-quick-access .mud-nav-link:hover {
        background-color: rgba(255, 255, 255, 0.25);
        transform: translateY(-1px);
        transition: all 0.2s ease;
    }

    .quick-access-title {
        color: white !important;
        font-weight: 600;
        text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    /* Improved mobile spacing */
    .mud-nav-group {
        margin-bottom: 4px;
    }

    .mud-nav-group .mud-nav-group-header {
        min-height: 40px;
        padding: 8px 16px;
    }

    .mud-nav-link {
        min-height: 40px;
        padding: 8px 16px;
    }
</style>

<AuthorizeView>
    <Authorized>
        <!-- Quick Access for Cashiers -->
        <div class="cashier-quick-access">
            <MudText Typo="Typo.subtitle2" Class="mb-3 quick-access-title">
                <MudIcon Icon="@Icons.Material.Filled.Speed" Size="Size.Small" Class="mr-1" />
                Î“ÏÎ®Î³Î¿ÏÎ· Î ÏÏŒÏƒÎ²Î±ÏƒÎ·
            </MudText>
            <MudNavLink Href="/payments/new" Icon="@Icons.Material.Filled.AddCard">
                ğŸš€ ÎÎ­Î± Î•Î¯ÏƒÏ€ÏÎ±Î¾Î·
            </MudNavLink>
            <MudNavLink Href="/collector-card" Icon="@Icons.Material.Filled.AccountBalanceWallet">
                ğŸ’¼ Î— ÎšÎ±ÏÏ„Î­Î»Î± Î¼Î¿Ï…
            </MudNavLink>
            <MudNavLink Href="/financial/payments" Icon="@Icons.Material.Filled.Payment">
                ğŸ’° Î•Î¹ÏƒÏ€ÏÎ¬Î¾ÎµÎ¹Ï‚ Î£Î®Î¼ÎµÏÎ±
            </MudNavLink>
            <MudNavLink Href="/members" Icon="@Icons.Material.Filled.Search">
                ğŸ” Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎœÎ­Î»Î¿Ï…Ï‚
            </MudNavLink>
        </div>

        <MudDivider Class="my-3" />

        <MudNavMenu>
            <!-- Main Navigation -->
            <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">
                Î‘ÏÏ‡Î¹ÎºÎ®
            </MudNavLink>

            <MudNavLink Href="/members" Icon="@Icons.Material.Filled.People">
                ÎœÎ­Î»Î·
            </MudNavLink>

            <!-- Financial Section -->
            <MudNavGroup Expanded="false" MaxHeight="300">
                <TitleContent>
                    <div style="display: flex; align-items: center;">
                        <MudIcon Icon="@Icons.Material.Filled.AccountBalance" Style="margin-right: 8px;" />
                        <MudText>ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ¬</MudText>
                    </div>
                </TitleContent>
                <ChildContent>
                    <MudNavLink Href="/financial/dashboard" Icon="@Icons.Material.Filled.Dashboard">
                        Dashboard
                    </MudNavLink>
                    <MudDivider Class="my-2" />
                    <AuthorizeView Roles="Admin,Owner,Treasurer" Context="collectorCardContext">
                        <MudNavLink Href="/collector-card" Icon="@Icons.Material.Filled.AccountBalanceWallet">
                            Î— ÎšÎ±ÏÏ„Î­Î»Î± Î¼Î¿Ï…
                        </MudNavLink>
                        <MudNavLink Href="/cashier-handover" Icon="@Icons.Material.Filled.SwapHoriz">
                            Î Î±ÏÎ¬Î´Î¿ÏƒÎ· Î¤Î±Î¼ÎµÎ¯Î¿Ï…
                        </MudNavLink>
                        <MudNavLink Href="/handover-history" Icon="@Icons.Material.Filled.History">
                            Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Î Î±ÏÎ±Î´ÏŒÏƒÎµÏ‰Î½
                        </MudNavLink>
                    </AuthorizeView>
                    <MudDivider Class="my-2" />
                    <MudNavLink Href="/financial/payments" Icon="@Icons.Material.Filled.Payment">
                        Î•Î¹ÏƒÏ€ÏÎ¬Î¾ÎµÎ¹Ï‚
                    </MudNavLink>
                    <MudNavLink Href="/financial/subscriptions" Icon="@Icons.Material.Filled.CalendarMonth">
                        Î£Ï…Î½Î´ÏÎ¿Î¼Î­Ï‚
                    </MudNavLink>
                    <MudNavLink Href="/expenses" Icon="@Icons.Material.Filled.Receipt">
                        ÎˆÎ¾Î¿Î´Î±
                    </MudNavLink>
                </ChildContent>
            </MudNavGroup>

            <!-- Reports Section -->
            <MudNavLink Href="/financial/reports" Icon="@Icons.Material.Filled.Assessment">
                Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚
            </MudNavLink>

            <!-- Security Section -->
            <MudNavGroup Expanded="false" MaxHeight="200">
                <TitleContent>
                    <div style="display: flex; align-items: center;">
                        <MudIcon Icon="@Icons.Material.Filled.Security" Style="margin-right: 8px;" />
                        <MudText>Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î±</MudText>
                    </div>
                </TitleContent>
                <ChildContent>
                    <MudNavLink Href="/security/devices" Icon="@Icons.Material.Filled.Devices">
                        Î£Ï…ÏƒÎºÎµÏ…Î­Ï‚ Î¼Î¿Ï…
                    </MudNavLink>
                    <MudNavLink Href="/security/notifications" Icon="@Icons.Material.Filled.Notifications">
                        Î•Î¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ Î‘ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚
                    </MudNavLink>
                </ChildContent>
            </MudNavGroup>

            <AuthorizeView Roles="Admin,Owner" Context="adminContext">
                <Authorized>
                    <!-- Settings & Configuration -->
                    <MudNavGroup Expanded="false" MaxHeight="200">
                        <TitleContent>
                            <div style="display: flex; align-items: center;">
                                <MudIcon Icon="@Icons.Material.Filled.Settings" Style="margin-right: 8px;" />
                                <MudText>Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚</MudText>
                            </div>
                        </TitleContent>
                        <ChildContent>
                            <MudNavLink Href="/financial/membership-types" Icon="@Icons.Material.Filled.CardMembership">
                                Î¤ÏÏ€Î¿Î¹ Î£Ï…Î½Î´ÏÎ¿Î¼Î®Ï‚
                            </MudNavLink>
                            <MudNavLink Href="/expense-categories" Icon="@Icons.Material.Filled.Category">
                                ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ Î•Î¾ÏŒÎ´Ï‰Î½
                            </MudNavLink>
                            <MudDivider Class="my-2" />
                            <MudNavLink Href="/email-settings" Icon="@Icons.Material.Filled.Email">
                                Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Email
                            </MudNavLink>
                        </ChildContent>
                    </MudNavGroup>

                    <!-- Admin Management -->
                    <MudNavGroup Expanded="false" MaxHeight="250">
                        <TitleContent>
                            <div style="display: flex; align-items: center;">
                                <MudIcon Icon="@Icons.Material.Filled.AdminPanelSettings" Style="margin-right: 8px;" />
                                <MudText>Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·</MudText>
                            </div>
                        </TitleContent>
                        <ChildContent>
                            <MudNavLink Href="/users" Icon="@Icons.Material.Filled.People">
                                Î§ÏÎ®ÏƒÏ„ÎµÏ‚
                            </MudNavLink>
                            <MudNavLink Href="/audit-logs" Icon="@Icons.Material.Filled.History">
                                Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Î•Î½ÎµÏÎ³ÎµÎ¹ÏÎ½
                            </MudNavLink>
                            <MudDivider Class="my-2" />
                            <MudNavLink Href="/security/dashboard" Icon="@Icons.Material.Filled.Shield">
                                Security Dashboard
                            </MudNavLink>
                            <MudNavLink Href="/admin/security" Icon="@Icons.Material.Filled.VerifiedUser">
                                Admin Security Panel
                            </MudNavLink>
                            <MudDivider Class="my-2" />
                            <MudNavLink Href="/test-password-reset" Icon="@Icons.Material.Filled.BugReport">
                                Î”Î¿ÎºÎ¹Î¼Î® Password Reset
                            </MudNavLink>
                        </ChildContent>
                    </MudNavGroup>
                </Authorized>
            </AuthorizeView>
        </MudNavMenu>
    </Authorized>
    <NotAuthorized>
        <MudNavMenu>
            <MudNavLink Href="/login" Icon="@Icons.Material.Filled.Login">
                Î•Î¯ÏƒÎ¿Î´Î¿Ï‚
            </MudNavLink>
        </MudNavMenu>
    </NotAuthorized>
</AuthorizeView>

